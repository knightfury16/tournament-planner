<mat-card class="match-card" [class.completed]="isGamePlayed()">
  <div class="match-header">
    <mat-chip-set>
      <mat-chip [color]="getMatchStatus().color" [highlighted]="true">
        {{getMatchStatus().text}}
      </mat-chip>
      <mat-chip outlined>
        {{match?.matchTypeName}} - {{match?.roundName}}
      </mat-chip>
    </mat-chip-set>
  </div>

  <div class="players-section">
    <!-- First Player -->
    <div class="player" [class.winner]="isFirstPlayerWinner()" [class.loser]="isSecondPlayerWinner()">
      <div class="player-name">
        <span>{{getFirstPlayerName()}}</span>
        @if (isFirstPlayerWinner()) {
          <mat-icon class="winner-icon" color="accent" 
                   matTooltip="Match Winner">emoji_events</mat-icon>
        }
      </div>
    </div>

    <!-- VS Separator -->
    <div class="vs-separator">
      @if (hasValidScore()) {
        <div class="score-badge" matTooltip="Match Score">
          {{getMatchScore()}}
        </div>
      } @else {
        <span>VS</span>
      }
    </div>

    <!-- Second Player -->
    <div class="player" [class.winner]="isSecondPlayerWinner()" [class.loser]="isFirstPlayerWinner()">
      <div class="player-name">
        <span>{{getSecondPlayerName()}}</span>
        @if (isSecondPlayerWinner()) {
          <mat-icon class="winner-icon" color="accent" 
                   matTooltip="Match Winner">emoji_events</mat-icon>
        }
      </div>
    </div>
  </div>

  <div class="match-details">
    <div class="detail-item" [matTooltip]="'Scheduled Time'">
      <mat-icon>event</mat-icon>
      <span>{{getMatchScheduledDate()}}</span>
    </div>
    
    @if (isGamePlayed()) {
      <div class="detail-item" [matTooltip]="'Played Time'">
        <mat-icon>check_circle</mat-icon>
        <span>{{getMatchPlayedDate()}}</span>
      </div>
    }

    @if (getMatchCourtName() !== this.notAvailable) {
      <div class="detail-item" [matTooltip]="'Court'">
        <mat-icon>sports_tennis</mat-icon>
        <span>{{getMatchCourtName()}}</span>
      </div>
    }
  </div>

  @if (showAddScore()) {
    <div class="match-actions">
      <button mat-flat-button color="primary" 
              [disabled]="isGamePlayed()"
              (click)="addScoreTabChangeView()"
              class="add-score-button">
        <mat-icon>add_circle</mat-icon>
        Add Score
      </button>
    </div>
  }
</mat-card>