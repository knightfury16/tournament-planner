<div class="management-container" *ngIf="tournamentDetails() as tournament">
  <mat-card class="overview-card">
    <mat-card-header>
      <mat-card-title>Tournament Overview</mat-card-title>
      <mat-card-subtitle>
        <mat-icon class="header-icon">event</mat-icon>
        Management Dashboard
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="overview-grid">
        <div class="info-section">
          <h3>
            <mat-icon>info</mat-icon>
            Basic Information
          </h3>
          <div class="info-item">
            <span class="label">Tournament Name:</span>
            <span class="value">{{tournament.name}}</span>
          </div>
          <div class="info-item">
            <span class="label">Created At:</span>
            <span class="value">{{formatDate(tournament.createdAt)}}</span>
          </div>
        </div>

        <mat-divider vertical></mat-divider>

        <div class="info-section">
          <h3>
            <mat-icon>schedule</mat-icon>
            Time Schedule
          </h3>
          <div class="info-item">
            <span class="label">Starts In:</span>
            <span class="value">{{formatDate(tournament.startDate)}}</span>
          </div>
          <div class="info-item">
            <span class="label">Ends In:</span>
            <span class="value">{{formatDate(tournament.endDate)}}</span>
          </div>
          <div class="info-item">
            <span class="label">Registration Deadline:</span>
            <span class="value">{{formatDate(tournament.registrationLastDate)}}</span>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="status-card">
    <mat-card-header>
      <mat-card-title>Tournament Status Management</mat-card-title>
      <mat-card-subtitle>
        <mat-icon class="header-icon">published_with_changes</mat-icon>
        Control tournament progression
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="status-content">
        <div class="current-status">
          <h3>Current Status</h3>
          <mat-chip-set>
            <mat-chip [style.background-color]="getStatusColor(tournament.status || '')"
                     [style.color]="'white'">
              {{tournament.status}}
            </mat-chip>
          </mat-chip-set>
        </div>

        <div class="status-change">
          <h3>Change Status</h3>
          <mat-form-field appearance="outline" class="status-select">
            <mat-label>New Status</mat-label>
            <mat-select [formControl]="statusFormControl" [(value)]="selectedStatus">
              <mat-option *ngFor="let status of getTournamentStatusString()"
                         [value]="status"
                         [style.borderLeft]="'4px solid ' + getStatusColor(status)">
                {{status}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </mat-card-content>

    <mat-card-actions>
      <button mat-raised-button 
              color="primary" 
              class="status-btn" 
              (click)="changeStatus()" 
              [disabled]="!statusFormControl.touched">
        <mat-icon>update</mat-icon>
        Update Status
      </button>
    </mat-card-actions>
  </mat-card>
</div>